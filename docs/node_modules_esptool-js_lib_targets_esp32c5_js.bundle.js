"use strict";
(self["webpackChunkTactility_Web_Installer"] = self["webpackChunkTactility_Web_Installer"] || []).push([["node_modules_esptool-js_lib_targets_esp32c5_js"],{

/***/ "./node_modules/esptool-js/lib/targets/esp32c5.js":
/*!********************************************************!*\
  !*** ./node_modules/esptool-js/lib/targets/esp32c5.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ESP32C5ROM: () => (/* binding */ ESP32C5ROM)
/* harmony export */ });
/* harmony import */ var _esp32c6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./esp32c6 */ "./node_modules/esptool-js/lib/targets/esp32c6.js");

class ESP32C5ROM extends _esp32c6__WEBPACK_IMPORTED_MODULE_0__.ESP32C6ROM {
    constructor() {
        super(...arguments);
        this.CHIP_NAME = "ESP32-C5";
        this.IMAGE_CHIP_ID = 23;
        this.BOOTLOADER_FLASH_OFFSET = 0x2000;
        this.EFUSE_BASE = 0x600b4800;
        this.EFUSE_BLOCK1_ADDR = this.EFUSE_BASE + 0x044;
        this.MAC_EFUSE_REG = this.EFUSE_BASE + 0x044;
        this.UART_CLKDIV_REG = 0x60000014;
        this.EFUSE_RD_REG_BASE = this.EFUSE_BASE + 0x030; // BLOCK0 read base address
        this.EFUSE_PURPOSE_KEY0_REG = this.EFUSE_BASE + 0x34;
        this.EFUSE_PURPOSE_KEY0_SHIFT = 24;
        this.EFUSE_PURPOSE_KEY1_REG = this.EFUSE_BASE + 0x34;
        this.EFUSE_PURPOSE_KEY1_SHIFT = 28;
        this.EFUSE_PURPOSE_KEY2_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY2_SHIFT = 0;
        this.EFUSE_PURPOSE_KEY3_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY3_SHIFT = 4;
        this.EFUSE_PURPOSE_KEY4_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY4_SHIFT = 8;
        this.EFUSE_PURPOSE_KEY5_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY5_SHIFT = 12;
        this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG = this.EFUSE_RD_REG_BASE;
        this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT = 1 << 20;
        this.EFUSE_SPI_BOOT_CRYPT_CNT_REG = this.EFUSE_BASE + 0x034;
        this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK = 0x7 << 18;
        this.EFUSE_SECURE_BOOT_EN_REG = this.EFUSE_BASE + 0x038;
        this.EFUSE_SECURE_BOOT_EN_MASK = 1 << 20;
        this.IROM_MAP_START = 0x42000000;
        this.IROM_MAP_END = 0x42800000;
        this.DROM_MAP_START = 0x42800000;
        this.DROM_MAP_END = 0x43000000;
        this.PCR_SYSCLK_CONF_REG = 0x60096110;
        this.PCR_SYSCLK_XTAL_FREQ_V = 0x7f << 24;
        this.PCR_SYSCLK_XTAL_FREQ_S = 24;
        this.XTAL_CLK_DIVIDER = 1;
        this.UARTDEV_BUF_NO = 0x4085f51c; // Variable in ROM .bss which indicates the port in use
        // Magic value for ESP32C5
        this.CHIP_DETECT_MAGIC_VALUE = [0x1101406f, 0x63e1406f, 0x5fd1406f];
        this.FLASH_FREQUENCY = {
            "80m": 0xf,
            "40m": 0x0,
            "20m": 0x2,
        };
        this.MEMORY_MAP = [
            [0x00000000, 0x00010000, "PADDING"],
            [0x42800000, 0x43000000, "DROM"],
            [0x40800000, 0x40860000, "DRAM"],
            [0x40800000, 0x40860000, "BYTE_ACCESSIBLE"],
            [0x4003a000, 0x40040000, "DROM_MASK"],
            [0x40000000, 0x4003a000, "IROM_MASK"],
            [0x42000000, 0x42800000, "IROM"],
            [0x40800000, 0x40860000, "IRAM"],
            [0x50000000, 0x50004000, "RTC_IRAM"],
            [0x50000000, 0x50004000, "RTC_DRAM"],
            [0x600fe000, 0x60100000, "MEM_INTERNAL2"],
        ];
        this.UF2_FAMILY_ID = 0xf71c0343;
        this.EFUSE_MAX_KEY = 5;
        this.KEY_PURPOSES = {
            0: "USER/EMPTY",
            1: "ECDSA_KEY",
            2: "XTS_AES_256_KEY_1",
            3: "XTS_AES_256_KEY_2",
            4: "XTS_AES_128_KEY",
            5: "HMAC_DOWN_ALL",
            6: "HMAC_DOWN_JTAG",
            7: "HMAC_DOWN_DIGITAL_SIGNATURE",
            8: "HMAC_UP",
            9: "SECURE_BOOT_DIGEST0",
            10: "SECURE_BOOT_DIGEST1",
            11: "SECURE_BOOT_DIGEST2",
            12: "KM_INIT_KEY",
        };
    }
    async getPkgVersion(loader) {
        const numWord = 2;
        return ((await loader.readReg(this.EFUSE_BLOCK1_ADDR + 4 * numWord)) >> 26) & 0x07;
    }
    async getMinorChipVersion(loader) {
        const numWord = 2;
        return ((await loader.readReg(this.EFUSE_BLOCK1_ADDR + 4 * numWord)) >> 0) & 0x0f;
    }
    async getMajorChipVersion(loader) {
        const numWord = 2;
        return ((await loader.readReg(this.EFUSE_BLOCK1_ADDR + 4 * numWord)) >> 4) & 0x03;
    }
    async getChipDescription(loader) {
        const pkgVer = await this.getPkgVersion(loader);
        let desc;
        if (pkgVer === 0) {
            desc = "ESP32-C5";
        }
        else {
            desc = "unknown ESP32-C5";
        }
        const majorRev = await this.getMajorChipVersion(loader);
        const minorRev = await this.getMinorChipVersion(loader);
        return `${desc} (revision v${majorRev}.${minorRev})`;
    }
    async getChipFeatures(loader) {
        return ["Wi-Fi 6 (dual-band)", "BT 5 (LE)"];
    }
    async getCrystalFreq(loader) {
        // The crystal detection algorithm of ESP32/ESP8266
        // works for ESP32-C5 as well.
        const uartDiv = (await loader.readReg(this.UART_CLKDIV_REG)) & this.UART_CLKDIV_MASK;
        const etsXtal = (loader.transport.baudrate * uartDiv) / 1000000 / this.XTAL_CLK_DIVIDER;
        let normXtal;
        if (etsXtal > 45) {
            normXtal = 48;
        }
        else if (etsXtal > 33) {
            normXtal = 40;
        }
        else {
            normXtal = 26;
        }
        if (Math.abs(normXtal - etsXtal) > 1) {
            loader.info("WARNING: Unsupported crystal in use");
        }
        return normXtal;
    }
    async getCrystalFreqRomExpect(loader) {
        return (((await loader.readReg(this.PCR_SYSCLK_CONF_REG)) & this.PCR_SYSCLK_XTAL_FREQ_V) >> this.PCR_SYSCLK_XTAL_FREQ_S);
    }
}


/***/ }),

/***/ "./node_modules/esptool-js/lib/targets/esp32c6.js":
/*!********************************************************!*\
  !*** ./node_modules/esptool-js/lib/targets/esp32c6.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ESP32C6ROM: () => (/* binding */ ESP32C6ROM)
/* harmony export */ });
/* harmony import */ var _rom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rom.js */ "./node_modules/esptool-js/lib/targets/rom.js");

class ESP32C6ROM extends _rom_js__WEBPACK_IMPORTED_MODULE_0__.ROM {
    constructor() {
        super(...arguments);
        this.CHIP_NAME = "ESP32-C6";
        this.IMAGE_CHIP_ID = 13;
        this.EFUSE_BASE = 0x600b0800;
        this.MAC_EFUSE_REG = this.EFUSE_BASE + 0x044;
        this.UART_CLKDIV_REG = 0x3ff40014;
        this.UART_CLKDIV_MASK = 0xfffff;
        this.UART_DATE_REG_ADDR = 0x6000007c;
        this.FLASH_WRITE_SIZE = 0x400;
        this.BOOTLOADER_FLASH_OFFSET = 0;
        this.FLASH_SIZES = {
            "1MB": 0x00,
            "2MB": 0x10,
            "4MB": 0x20,
            "8MB": 0x30,
            "16MB": 0x40,
        };
        this.SPI_REG_BASE = 0x60002000;
        this.SPI_USR_OFFS = 0x18;
        this.SPI_USR1_OFFS = 0x1c;
        this.SPI_USR2_OFFS = 0x20;
        this.SPI_MOSI_DLEN_OFFS = 0x24;
        this.SPI_MISO_DLEN_OFFS = 0x28;
        this.SPI_W0_OFFS = 0x58;
    }
    async getPkgVersion(loader) {
        const numWord = 3;
        const block1Addr = this.EFUSE_BASE + 0x044;
        const addr = block1Addr + 4 * numWord;
        const word3 = await loader.readReg(addr);
        const pkgVersion = (word3 >> 21) & 0x07;
        return pkgVersion;
    }
    async getChipRevision(loader) {
        const block1Addr = this.EFUSE_BASE + 0x044;
        const numWord = 3;
        const pos = 18;
        const addr = block1Addr + 4 * numWord;
        const ret = ((await loader.readReg(addr)) & (0x7 << pos)) >> pos;
        return ret;
    }
    async getChipDescription(loader) {
        let desc;
        const pkgVer = await this.getPkgVersion(loader);
        if (pkgVer === 0) {
            desc = "ESP32-C6";
        }
        else {
            desc = "unknown ESP32-C6";
        }
        const chipRev = await this.getChipRevision(loader);
        desc += " (revision " + chipRev + ")";
        return desc;
    }
    async getChipFeatures(loader) {
        return ["Wi-Fi 6", "BT 5", "IEEE802.15.4"];
    }
    async getCrystalFreq(loader) {
        return 40;
    }
    _d2h(d) {
        const h = (+d).toString(16);
        return h.length === 1 ? "0" + h : h;
    }
    async readMac(loader) {
        let mac0 = await loader.readReg(this.MAC_EFUSE_REG);
        mac0 = mac0 >>> 0;
        let mac1 = await loader.readReg(this.MAC_EFUSE_REG + 4);
        mac1 = (mac1 >>> 0) & 0x0000ffff;
        const mac = new Uint8Array(6);
        mac[0] = (mac1 >> 8) & 0xff;
        mac[1] = mac1 & 0xff;
        mac[2] = (mac0 >> 24) & 0xff;
        mac[3] = (mac0 >> 16) & 0xff;
        mac[4] = (mac0 >> 8) & 0xff;
        mac[5] = mac0 & 0xff;
        return (this._d2h(mac[0]) +
            ":" +
            this._d2h(mac[1]) +
            ":" +
            this._d2h(mac[2]) +
            ":" +
            this._d2h(mac[3]) +
            ":" +
            this._d2h(mac[4]) +
            ":" +
            this._d2h(mac[5]));
    }
    getEraseSize(offset, size) {
        return size;
    }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2VzcHRvb2wtanNfbGliX3RhcmdldHNfZXNwMzJjNV9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDaEMseUJBQXlCLGdEQUFVO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE1BQU0sYUFBYSxTQUFTLEdBQUcsU0FBUztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ2hJK0I7QUFDeEIseUJBQXlCLHdDQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL1RhY3RpbGl0eSBXZWIgSW5zdGFsbGVyLy4vbm9kZV9tb2R1bGVzL2VzcHRvb2wtanMvbGliL3RhcmdldHMvZXNwMzJjNS5qcyIsIndlYnBhY2s6Ly9UYWN0aWxpdHkgV2ViIEluc3RhbGxlci8uL25vZGVfbW9kdWxlcy9lc3B0b29sLWpzL2xpYi90YXJnZXRzL2VzcDMyYzYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRVNQMzJDNlJPTSB9IGZyb20gXCIuL2VzcDMyYzZcIjtcbmV4cG9ydCBjbGFzcyBFU1AzMkM1Uk9NIGV4dGVuZHMgRVNQMzJDNlJPTSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuQ0hJUF9OQU1FID0gXCJFU1AzMi1DNVwiO1xuICAgICAgICB0aGlzLklNQUdFX0NISVBfSUQgPSAyMztcbiAgICAgICAgdGhpcy5CT09UTE9BREVSX0ZMQVNIX09GRlNFVCA9IDB4MjAwMDtcbiAgICAgICAgdGhpcy5FRlVTRV9CQVNFID0gMHg2MDBiNDgwMDtcbiAgICAgICAgdGhpcy5FRlVTRV9CTE9DSzFfQUREUiA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDQ0O1xuICAgICAgICB0aGlzLk1BQ19FRlVTRV9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDA0NDtcbiAgICAgICAgdGhpcy5VQVJUX0NMS0RJVl9SRUcgPSAweDYwMDAwMDE0O1xuICAgICAgICB0aGlzLkVGVVNFX1JEX1JFR19CQVNFID0gdGhpcy5FRlVTRV9CQVNFICsgMHgwMzA7IC8vIEJMT0NLMCByZWFkIGJhc2UgYWRkcmVzc1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZMF9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDM0O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZMF9TSElGVCA9IDI0O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZMV9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDM0O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZMV9TSElGVCA9IDI4O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZMl9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDM4O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZMl9TSElGVCA9IDA7XG4gICAgICAgIHRoaXMuRUZVU0VfUFVSUE9TRV9LRVkzX1JFRyA9IHRoaXMuRUZVU0VfQkFTRSArIDB4Mzg7XG4gICAgICAgIHRoaXMuRUZVU0VfUFVSUE9TRV9LRVkzX1NISUZUID0gNDtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTRfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgzODtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTRfU0hJRlQgPSA4O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZNV9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDM4O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZNV9TSElGVCA9IDEyO1xuICAgICAgICB0aGlzLkVGVVNFX0RJU19ET1dOTE9BRF9NQU5VQUxfRU5DUllQVF9SRUcgPSB0aGlzLkVGVVNFX1JEX1JFR19CQVNFO1xuICAgICAgICB0aGlzLkVGVVNFX0RJU19ET1dOTE9BRF9NQU5VQUxfRU5DUllQVCA9IDEgPDwgMjA7XG4gICAgICAgIHRoaXMuRUZVU0VfU1BJX0JPT1RfQ1JZUFRfQ05UX1JFRyA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDM0O1xuICAgICAgICB0aGlzLkVGVVNFX1NQSV9CT09UX0NSWVBUX0NOVF9NQVNLID0gMHg3IDw8IDE4O1xuICAgICAgICB0aGlzLkVGVVNFX1NFQ1VSRV9CT09UX0VOX1JFRyA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDM4O1xuICAgICAgICB0aGlzLkVGVVNFX1NFQ1VSRV9CT09UX0VOX01BU0sgPSAxIDw8IDIwO1xuICAgICAgICB0aGlzLklST01fTUFQX1NUQVJUID0gMHg0MjAwMDAwMDtcbiAgICAgICAgdGhpcy5JUk9NX01BUF9FTkQgPSAweDQyODAwMDAwO1xuICAgICAgICB0aGlzLkRST01fTUFQX1NUQVJUID0gMHg0MjgwMDAwMDtcbiAgICAgICAgdGhpcy5EUk9NX01BUF9FTkQgPSAweDQzMDAwMDAwO1xuICAgICAgICB0aGlzLlBDUl9TWVNDTEtfQ09ORl9SRUcgPSAweDYwMDk2MTEwO1xuICAgICAgICB0aGlzLlBDUl9TWVNDTEtfWFRBTF9GUkVRX1YgPSAweDdmIDw8IDI0O1xuICAgICAgICB0aGlzLlBDUl9TWVNDTEtfWFRBTF9GUkVRX1MgPSAyNDtcbiAgICAgICAgdGhpcy5YVEFMX0NMS19ESVZJREVSID0gMTtcbiAgICAgICAgdGhpcy5VQVJUREVWX0JVRl9OTyA9IDB4NDA4NWY1MWM7IC8vIFZhcmlhYmxlIGluIFJPTSAuYnNzIHdoaWNoIGluZGljYXRlcyB0aGUgcG9ydCBpbiB1c2VcbiAgICAgICAgLy8gTWFnaWMgdmFsdWUgZm9yIEVTUDMyQzVcbiAgICAgICAgdGhpcy5DSElQX0RFVEVDVF9NQUdJQ19WQUxVRSA9IFsweDExMDE0MDZmLCAweDYzZTE0MDZmLCAweDVmZDE0MDZmXTtcbiAgICAgICAgdGhpcy5GTEFTSF9GUkVRVUVOQ1kgPSB7XG4gICAgICAgICAgICBcIjgwbVwiOiAweGYsXG4gICAgICAgICAgICBcIjQwbVwiOiAweDAsXG4gICAgICAgICAgICBcIjIwbVwiOiAweDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuTUVNT1JZX01BUCA9IFtcbiAgICAgICAgICAgIFsweDAwMDAwMDAwLCAweDAwMDEwMDAwLCBcIlBBRERJTkdcIl0sXG4gICAgICAgICAgICBbMHg0MjgwMDAwMCwgMHg0MzAwMDAwMCwgXCJEUk9NXCJdLFxuICAgICAgICAgICAgWzB4NDA4MDAwMDAsIDB4NDA4NjAwMDAsIFwiRFJBTVwiXSxcbiAgICAgICAgICAgIFsweDQwODAwMDAwLCAweDQwODYwMDAwLCBcIkJZVEVfQUNDRVNTSUJMRVwiXSxcbiAgICAgICAgICAgIFsweDQwMDNhMDAwLCAweDQwMDQwMDAwLCBcIkRST01fTUFTS1wiXSxcbiAgICAgICAgICAgIFsweDQwMDAwMDAwLCAweDQwMDNhMDAwLCBcIklST01fTUFTS1wiXSxcbiAgICAgICAgICAgIFsweDQyMDAwMDAwLCAweDQyODAwMDAwLCBcIklST01cIl0sXG4gICAgICAgICAgICBbMHg0MDgwMDAwMCwgMHg0MDg2MDAwMCwgXCJJUkFNXCJdLFxuICAgICAgICAgICAgWzB4NTAwMDAwMDAsIDB4NTAwMDQwMDAsIFwiUlRDX0lSQU1cIl0sXG4gICAgICAgICAgICBbMHg1MDAwMDAwMCwgMHg1MDAwNDAwMCwgXCJSVENfRFJBTVwiXSxcbiAgICAgICAgICAgIFsweDYwMGZlMDAwLCAweDYwMTAwMDAwLCBcIk1FTV9JTlRFUk5BTDJcIl0sXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuVUYyX0ZBTUlMWV9JRCA9IDB4ZjcxYzAzNDM7XG4gICAgICAgIHRoaXMuRUZVU0VfTUFYX0tFWSA9IDU7XG4gICAgICAgIHRoaXMuS0VZX1BVUlBPU0VTID0ge1xuICAgICAgICAgICAgMDogXCJVU0VSL0VNUFRZXCIsXG4gICAgICAgICAgICAxOiBcIkVDRFNBX0tFWVwiLFxuICAgICAgICAgICAgMjogXCJYVFNfQUVTXzI1Nl9LRVlfMVwiLFxuICAgICAgICAgICAgMzogXCJYVFNfQUVTXzI1Nl9LRVlfMlwiLFxuICAgICAgICAgICAgNDogXCJYVFNfQUVTXzEyOF9LRVlcIixcbiAgICAgICAgICAgIDU6IFwiSE1BQ19ET1dOX0FMTFwiLFxuICAgICAgICAgICAgNjogXCJITUFDX0RPV05fSlRBR1wiLFxuICAgICAgICAgICAgNzogXCJITUFDX0RPV05fRElHSVRBTF9TSUdOQVRVUkVcIixcbiAgICAgICAgICAgIDg6IFwiSE1BQ19VUFwiLFxuICAgICAgICAgICAgOTogXCJTRUNVUkVfQk9PVF9ESUdFU1QwXCIsXG4gICAgICAgICAgICAxMDogXCJTRUNVUkVfQk9PVF9ESUdFU1QxXCIsXG4gICAgICAgICAgICAxMTogXCJTRUNVUkVfQk9PVF9ESUdFU1QyXCIsXG4gICAgICAgICAgICAxMjogXCJLTV9JTklUX0tFWVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBnZXRQa2dWZXJzaW9uKGxvYWRlcikge1xuICAgICAgICBjb25zdCBudW1Xb3JkID0gMjtcbiAgICAgICAgcmV0dXJuICgoYXdhaXQgbG9hZGVyLnJlYWRSZWcodGhpcy5FRlVTRV9CTE9DSzFfQUREUiArIDQgKiBudW1Xb3JkKSkgPj4gMjYpICYgMHgwNztcbiAgICB9XG4gICAgYXN5bmMgZ2V0TWlub3JDaGlwVmVyc2lvbihsb2FkZXIpIHtcbiAgICAgICAgY29uc3QgbnVtV29yZCA9IDI7XG4gICAgICAgIHJldHVybiAoKGF3YWl0IGxvYWRlci5yZWFkUmVnKHRoaXMuRUZVU0VfQkxPQ0sxX0FERFIgKyA0ICogbnVtV29yZCkpID4+IDApICYgMHgwZjtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TWFqb3JDaGlwVmVyc2lvbihsb2FkZXIpIHtcbiAgICAgICAgY29uc3QgbnVtV29yZCA9IDI7XG4gICAgICAgIHJldHVybiAoKGF3YWl0IGxvYWRlci5yZWFkUmVnKHRoaXMuRUZVU0VfQkxPQ0sxX0FERFIgKyA0ICogbnVtV29yZCkpID4+IDQpICYgMHgwMztcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q2hpcERlc2NyaXB0aW9uKGxvYWRlcikge1xuICAgICAgICBjb25zdCBwa2dWZXIgPSBhd2FpdCB0aGlzLmdldFBrZ1ZlcnNpb24obG9hZGVyKTtcbiAgICAgICAgbGV0IGRlc2M7XG4gICAgICAgIGlmIChwa2dWZXIgPT09IDApIHtcbiAgICAgICAgICAgIGRlc2MgPSBcIkVTUDMyLUM1XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXNjID0gXCJ1bmtub3duIEVTUDMyLUM1XCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWFqb3JSZXYgPSBhd2FpdCB0aGlzLmdldE1ham9yQ2hpcFZlcnNpb24obG9hZGVyKTtcbiAgICAgICAgY29uc3QgbWlub3JSZXYgPSBhd2FpdCB0aGlzLmdldE1pbm9yQ2hpcFZlcnNpb24obG9hZGVyKTtcbiAgICAgICAgcmV0dXJuIGAke2Rlc2N9IChyZXZpc2lvbiB2JHttYWpvclJldn0uJHttaW5vclJldn0pYDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q2hpcEZlYXR1cmVzKGxvYWRlcikge1xuICAgICAgICByZXR1cm4gW1wiV2ktRmkgNiAoZHVhbC1iYW5kKVwiLCBcIkJUIDUgKExFKVwiXTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q3J5c3RhbEZyZXEobG9hZGVyKSB7XG4gICAgICAgIC8vIFRoZSBjcnlzdGFsIGRldGVjdGlvbiBhbGdvcml0aG0gb2YgRVNQMzIvRVNQODI2NlxuICAgICAgICAvLyB3b3JrcyBmb3IgRVNQMzItQzUgYXMgd2VsbC5cbiAgICAgICAgY29uc3QgdWFydERpdiA9IChhd2FpdCBsb2FkZXIucmVhZFJlZyh0aGlzLlVBUlRfQ0xLRElWX1JFRykpICYgdGhpcy5VQVJUX0NMS0RJVl9NQVNLO1xuICAgICAgICBjb25zdCBldHNYdGFsID0gKGxvYWRlci50cmFuc3BvcnQuYmF1ZHJhdGUgKiB1YXJ0RGl2KSAvIDEwMDAwMDAgLyB0aGlzLlhUQUxfQ0xLX0RJVklERVI7XG4gICAgICAgIGxldCBub3JtWHRhbDtcbiAgICAgICAgaWYgKGV0c1h0YWwgPiA0NSkge1xuICAgICAgICAgICAgbm9ybVh0YWwgPSA0ODtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldHNYdGFsID4gMzMpIHtcbiAgICAgICAgICAgIG5vcm1YdGFsID0gNDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtWHRhbCA9IDI2O1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhub3JtWHRhbCAtIGV0c1h0YWwpID4gMSkge1xuICAgICAgICAgICAgbG9hZGVyLmluZm8oXCJXQVJOSU5HOiBVbnN1cHBvcnRlZCBjcnlzdGFsIGluIHVzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybVh0YWw7XG4gICAgfVxuICAgIGFzeW5jIGdldENyeXN0YWxGcmVxUm9tRXhwZWN0KGxvYWRlcikge1xuICAgICAgICByZXR1cm4gKCgoYXdhaXQgbG9hZGVyLnJlYWRSZWcodGhpcy5QQ1JfU1lTQ0xLX0NPTkZfUkVHKSkgJiB0aGlzLlBDUl9TWVNDTEtfWFRBTF9GUkVRX1YpID4+IHRoaXMuUENSX1NZU0NMS19YVEFMX0ZSRVFfUyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUk9NIH0gZnJvbSBcIi4vcm9tLmpzXCI7XG5leHBvcnQgY2xhc3MgRVNQMzJDNlJPTSBleHRlbmRzIFJPTSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuQ0hJUF9OQU1FID0gXCJFU1AzMi1DNlwiO1xuICAgICAgICB0aGlzLklNQUdFX0NISVBfSUQgPSAxMztcbiAgICAgICAgdGhpcy5FRlVTRV9CQVNFID0gMHg2MDBiMDgwMDtcbiAgICAgICAgdGhpcy5NQUNfRUZVU0VfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgwNDQ7XG4gICAgICAgIHRoaXMuVUFSVF9DTEtESVZfUkVHID0gMHgzZmY0MDAxNDtcbiAgICAgICAgdGhpcy5VQVJUX0NMS0RJVl9NQVNLID0gMHhmZmZmZjtcbiAgICAgICAgdGhpcy5VQVJUX0RBVEVfUkVHX0FERFIgPSAweDYwMDAwMDdjO1xuICAgICAgICB0aGlzLkZMQVNIX1dSSVRFX1NJWkUgPSAweDQwMDtcbiAgICAgICAgdGhpcy5CT09UTE9BREVSX0ZMQVNIX09GRlNFVCA9IDA7XG4gICAgICAgIHRoaXMuRkxBU0hfU0laRVMgPSB7XG4gICAgICAgICAgICBcIjFNQlwiOiAweDAwLFxuICAgICAgICAgICAgXCIyTUJcIjogMHgxMCxcbiAgICAgICAgICAgIFwiNE1CXCI6IDB4MjAsXG4gICAgICAgICAgICBcIjhNQlwiOiAweDMwLFxuICAgICAgICAgICAgXCIxNk1CXCI6IDB4NDAsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuU1BJX1JFR19CQVNFID0gMHg2MDAwMjAwMDtcbiAgICAgICAgdGhpcy5TUElfVVNSX09GRlMgPSAweDE4O1xuICAgICAgICB0aGlzLlNQSV9VU1IxX09GRlMgPSAweDFjO1xuICAgICAgICB0aGlzLlNQSV9VU1IyX09GRlMgPSAweDIwO1xuICAgICAgICB0aGlzLlNQSV9NT1NJX0RMRU5fT0ZGUyA9IDB4MjQ7XG4gICAgICAgIHRoaXMuU1BJX01JU09fRExFTl9PRkZTID0gMHgyODtcbiAgICAgICAgdGhpcy5TUElfVzBfT0ZGUyA9IDB4NTg7XG4gICAgfVxuICAgIGFzeW5jIGdldFBrZ1ZlcnNpb24obG9hZGVyKSB7XG4gICAgICAgIGNvbnN0IG51bVdvcmQgPSAzO1xuICAgICAgICBjb25zdCBibG9jazFBZGRyID0gdGhpcy5FRlVTRV9CQVNFICsgMHgwNDQ7XG4gICAgICAgIGNvbnN0IGFkZHIgPSBibG9jazFBZGRyICsgNCAqIG51bVdvcmQ7XG4gICAgICAgIGNvbnN0IHdvcmQzID0gYXdhaXQgbG9hZGVyLnJlYWRSZWcoYWRkcik7XG4gICAgICAgIGNvbnN0IHBrZ1ZlcnNpb24gPSAod29yZDMgPj4gMjEpICYgMHgwNztcbiAgICAgICAgcmV0dXJuIHBrZ1ZlcnNpb247XG4gICAgfVxuICAgIGFzeW5jIGdldENoaXBSZXZpc2lvbihsb2FkZXIpIHtcbiAgICAgICAgY29uc3QgYmxvY2sxQWRkciA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDQ0O1xuICAgICAgICBjb25zdCBudW1Xb3JkID0gMztcbiAgICAgICAgY29uc3QgcG9zID0gMTg7XG4gICAgICAgIGNvbnN0IGFkZHIgPSBibG9jazFBZGRyICsgNCAqIG51bVdvcmQ7XG4gICAgICAgIGNvbnN0IHJldCA9ICgoYXdhaXQgbG9hZGVyLnJlYWRSZWcoYWRkcikpICYgKDB4NyA8PCBwb3MpKSA+PiBwb3M7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGFzeW5jIGdldENoaXBEZXNjcmlwdGlvbihsb2FkZXIpIHtcbiAgICAgICAgbGV0IGRlc2M7XG4gICAgICAgIGNvbnN0IHBrZ1ZlciA9IGF3YWl0IHRoaXMuZ2V0UGtnVmVyc2lvbihsb2FkZXIpO1xuICAgICAgICBpZiAocGtnVmVyID09PSAwKSB7XG4gICAgICAgICAgICBkZXNjID0gXCJFU1AzMi1DNlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzYyA9IFwidW5rbm93biBFU1AzMi1DNlwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaXBSZXYgPSBhd2FpdCB0aGlzLmdldENoaXBSZXZpc2lvbihsb2FkZXIpO1xuICAgICAgICBkZXNjICs9IFwiIChyZXZpc2lvbiBcIiArIGNoaXBSZXYgKyBcIilcIjtcbiAgICAgICAgcmV0dXJuIGRlc2M7XG4gICAgfVxuICAgIGFzeW5jIGdldENoaXBGZWF0dXJlcyhsb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIFtcIldpLUZpIDZcIiwgXCJCVCA1XCIsIFwiSUVFRTgwMi4xNS40XCJdO1xuICAgIH1cbiAgICBhc3luYyBnZXRDcnlzdGFsRnJlcShsb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIDQwO1xuICAgIH1cbiAgICBfZDJoKGQpIHtcbiAgICAgICAgY29uc3QgaCA9ICgrZCkudG9TdHJpbmcoMTYpO1xuICAgICAgICByZXR1cm4gaC5sZW5ndGggPT09IDEgPyBcIjBcIiArIGggOiBoO1xuICAgIH1cbiAgICBhc3luYyByZWFkTWFjKGxvYWRlcikge1xuICAgICAgICBsZXQgbWFjMCA9IGF3YWl0IGxvYWRlci5yZWFkUmVnKHRoaXMuTUFDX0VGVVNFX1JFRyk7XG4gICAgICAgIG1hYzAgPSBtYWMwID4+PiAwO1xuICAgICAgICBsZXQgbWFjMSA9IGF3YWl0IGxvYWRlci5yZWFkUmVnKHRoaXMuTUFDX0VGVVNFX1JFRyArIDQpO1xuICAgICAgICBtYWMxID0gKG1hYzEgPj4+IDApICYgMHgwMDAwZmZmZjtcbiAgICAgICAgY29uc3QgbWFjID0gbmV3IFVpbnQ4QXJyYXkoNik7XG4gICAgICAgIG1hY1swXSA9IChtYWMxID4+IDgpICYgMHhmZjtcbiAgICAgICAgbWFjWzFdID0gbWFjMSAmIDB4ZmY7XG4gICAgICAgIG1hY1syXSA9IChtYWMwID4+IDI0KSAmIDB4ZmY7XG4gICAgICAgIG1hY1szXSA9IChtYWMwID4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIG1hY1s0XSA9IChtYWMwID4+IDgpICYgMHhmZjtcbiAgICAgICAgbWFjWzVdID0gbWFjMCAmIDB4ZmY7XG4gICAgICAgIHJldHVybiAodGhpcy5fZDJoKG1hY1swXSkgK1xuICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgdGhpcy5fZDJoKG1hY1sxXSkgK1xuICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgdGhpcy5fZDJoKG1hY1syXSkgK1xuICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgdGhpcy5fZDJoKG1hY1szXSkgK1xuICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgdGhpcy5fZDJoKG1hY1s0XSkgK1xuICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgdGhpcy5fZDJoKG1hY1s1XSkpO1xuICAgIH1cbiAgICBnZXRFcmFzZVNpemUob2Zmc2V0LCBzaXplKSB7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==