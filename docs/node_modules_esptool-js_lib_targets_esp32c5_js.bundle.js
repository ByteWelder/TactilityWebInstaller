"use strict";
(self["webpackChunkTactility_Web_Installer"] = self["webpackChunkTactility_Web_Installer"] || []).push([["node_modules_esptool-js_lib_targets_esp32c5_js"],{

/***/ "./node_modules/esptool-js/lib/targets/esp32c5.js":
/*!********************************************************!*\
  !*** ./node_modules/esptool-js/lib/targets/esp32c5.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ESP32C5ROM: () => (/* binding */ ESP32C5ROM)
/* harmony export */ });
/* harmony import */ var _esp32c6__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./esp32c6 */ "./node_modules/esptool-js/lib/targets/esp32c6.js");

class ESP32C5ROM extends _esp32c6__WEBPACK_IMPORTED_MODULE_0__.ESP32C6ROM {
    constructor() {
        super(...arguments);
        this.CHIP_NAME = "ESP32-C5";
        this.IMAGE_CHIP_ID = 23;
        this.EFUSE_BASE = 0x600b4800;
        this.EFUSE_BLOCK1_ADDR = this.EFUSE_BASE + 0x044;
        this.MAC_EFUSE_REG = this.EFUSE_BASE + 0x044;
        this.UART_CLKDIV_REG = 0x60000014;
        this.EFUSE_RD_REG_BASE = this.EFUSE_BASE + 0x030; // BLOCK0 read base address
        this.EFUSE_PURPOSE_KEY0_REG = this.EFUSE_BASE + 0x34;
        this.EFUSE_PURPOSE_KEY0_SHIFT = 24;
        this.EFUSE_PURPOSE_KEY1_REG = this.EFUSE_BASE + 0x34;
        this.EFUSE_PURPOSE_KEY1_SHIFT = 28;
        this.EFUSE_PURPOSE_KEY2_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY2_SHIFT = 0;
        this.EFUSE_PURPOSE_KEY3_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY3_SHIFT = 4;
        this.EFUSE_PURPOSE_KEY4_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY4_SHIFT = 8;
        this.EFUSE_PURPOSE_KEY5_REG = this.EFUSE_BASE + 0x38;
        this.EFUSE_PURPOSE_KEY5_SHIFT = 12;
        this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG = this.EFUSE_RD_REG_BASE;
        this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT = 1 << 20;
        this.EFUSE_SPI_BOOT_CRYPT_CNT_REG = this.EFUSE_BASE + 0x034;
        this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK = 0x7 << 18;
        this.EFUSE_SECURE_BOOT_EN_REG = this.EFUSE_BASE + 0x038;
        this.EFUSE_SECURE_BOOT_EN_MASK = 1 << 20;
        this.IROM_MAP_START = 0x42000000;
        this.IROM_MAP_END = 0x42800000;
        this.DROM_MAP_START = 0x42800000;
        this.DROM_MAP_END = 0x43000000;
        this.PCR_SYSCLK_CONF_REG = 0x60096110;
        this.PCR_SYSCLK_XTAL_FREQ_V = 0x7f << 24;
        this.PCR_SYSCLK_XTAL_FREQ_S = 24;
        this.XTAL_CLK_DIVIDER = 1;
        this.UARTDEV_BUF_NO = 0x4085f51c; // Variable in ROM .bss which indicates the port in use
        // Magic value for ESP32C5
        this.CHIP_DETECT_MAGIC_VALUE = [0x1101406f];
        this.FLASH_FREQUENCY = {
            "80m": 0xf,
            "40m": 0x0,
            "20m": 0x2,
        };
        this.MEMORY_MAP = [
            [0x00000000, 0x00010000, "PADDING"],
            [0x42800000, 0x43000000, "DROM"],
            [0x40800000, 0x40860000, "DRAM"],
            [0x40800000, 0x40860000, "BYTE_ACCESSIBLE"],
            [0x4003a000, 0x40040000, "DROM_MASK"],
            [0x40000000, 0x4003a000, "IROM_MASK"],
            [0x42000000, 0x42800000, "IROM"],
            [0x40800000, 0x40860000, "IRAM"],
            [0x50000000, 0x50004000, "RTC_IRAM"],
            [0x50000000, 0x50004000, "RTC_DRAM"],
            [0x600fe000, 0x60100000, "MEM_INTERNAL2"],
        ];
        this.UF2_FAMILY_ID = 0xf71c0343;
        this.EFUSE_MAX_KEY = 5;
        this.KEY_PURPOSES = {
            0: "USER/EMPTY",
            1: "ECDSA_KEY",
            2: "XTS_AES_256_KEY_1",
            3: "XTS_AES_256_KEY_2",
            4: "XTS_AES_128_KEY",
            5: "HMAC_DOWN_ALL",
            6: "HMAC_DOWN_JTAG",
            7: "HMAC_DOWN_DIGITAL_SIGNATURE",
            8: "HMAC_UP",
            9: "SECURE_BOOT_DIGEST0",
            10: "SECURE_BOOT_DIGEST1",
            11: "SECURE_BOOT_DIGEST2",
            12: "KM_INIT_KEY",
        };
    }
    async getPkgVersion(loader) {
        const numWord = 2;
        return ((await loader.readReg(this.EFUSE_BLOCK1_ADDR + 4 * numWord)) >> 26) & 0x07;
    }
    async getMinorChipVersion(loader) {
        const numWord = 2;
        return ((await loader.readReg(this.EFUSE_BLOCK1_ADDR + 4 * numWord)) >> 0) & 0x0f;
    }
    async getMajorChipVersion(loader) {
        const numWord = 2;
        return ((await loader.readReg(this.EFUSE_BLOCK1_ADDR + 4 * numWord)) >> 4) & 0x03;
    }
    async getChipDescription(loader) {
        const pkgVer = await this.getPkgVersion(loader);
        let desc;
        if (pkgVer === 0) {
            desc = "ESP32-C5";
        }
        else {
            desc = "unknown ESP32-C5";
        }
        const majorRev = await this.getMajorChipVersion(loader);
        const minorRev = await this.getMinorChipVersion(loader);
        return `${desc} (revision v${majorRev}.${minorRev})`;
    }
    async getCrystalFreq(loader) {
        // The crystal detection algorithm of ESP32/ESP8266
        // works for ESP32-C5 as well.
        const uartDiv = (await loader.readReg(this.UART_CLKDIV_REG)) & this.UART_CLKDIV_MASK;
        const etsXtal = (loader.transport.baudrate * uartDiv) / 1000000 / this.XTAL_CLK_DIVIDER;
        let normXtal;
        if (etsXtal > 45) {
            normXtal = 48;
        }
        else if (etsXtal > 33) {
            normXtal = 40;
        }
        else {
            normXtal = 26;
        }
        if (Math.abs(normXtal - etsXtal) > 1) {
            loader.info("WARNING: Unsupported crystal in use");
        }
        return normXtal;
    }
    async getCrystalFreqRomExpect(loader) {
        return (((await loader.readReg(this.PCR_SYSCLK_CONF_REG)) & this.PCR_SYSCLK_XTAL_FREQ_V) >> this.PCR_SYSCLK_XTAL_FREQ_S);
    }
}


/***/ }),

/***/ "./node_modules/esptool-js/lib/targets/esp32c6.js":
/*!********************************************************!*\
  !*** ./node_modules/esptool-js/lib/targets/esp32c6.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ESP32C6ROM: () => (/* binding */ ESP32C6ROM)
/* harmony export */ });
/* harmony import */ var _rom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rom.js */ "./node_modules/esptool-js/lib/targets/rom.js");

class ESP32C6ROM extends _rom_js__WEBPACK_IMPORTED_MODULE_0__.ROM {
    constructor() {
        super(...arguments);
        this.CHIP_NAME = "ESP32-C6";
        this.IMAGE_CHIP_ID = 13;
        this.EFUSE_BASE = 0x600b0800;
        this.MAC_EFUSE_REG = this.EFUSE_BASE + 0x044;
        this.UART_CLKDIV_REG = 0x3ff40014;
        this.UART_CLKDIV_MASK = 0xfffff;
        this.UART_DATE_REG_ADDR = 0x6000007c;
        this.FLASH_WRITE_SIZE = 0x400;
        this.BOOTLOADER_FLASH_OFFSET = 0;
        this.FLASH_SIZES = {
            "1MB": 0x00,
            "2MB": 0x10,
            "4MB": 0x20,
            "8MB": 0x30,
            "16MB": 0x40,
        };
        this.SPI_REG_BASE = 0x60002000;
        this.SPI_USR_OFFS = 0x18;
        this.SPI_USR1_OFFS = 0x1c;
        this.SPI_USR2_OFFS = 0x20;
        this.SPI_MOSI_DLEN_OFFS = 0x24;
        this.SPI_MISO_DLEN_OFFS = 0x28;
        this.SPI_W0_OFFS = 0x58;
    }
    async getPkgVersion(loader) {
        const numWord = 3;
        const block1Addr = this.EFUSE_BASE + 0x044;
        const addr = block1Addr + 4 * numWord;
        const word3 = await loader.readReg(addr);
        const pkgVersion = (word3 >> 21) & 0x07;
        return pkgVersion;
    }
    async getChipRevision(loader) {
        const block1Addr = this.EFUSE_BASE + 0x044;
        const numWord = 3;
        const pos = 18;
        const addr = block1Addr + 4 * numWord;
        const ret = ((await loader.readReg(addr)) & (0x7 << pos)) >> pos;
        return ret;
    }
    async getChipDescription(loader) {
        let desc;
        const pkgVer = await this.getPkgVersion(loader);
        if (pkgVer === 0) {
            desc = "ESP32-C6";
        }
        else {
            desc = "unknown ESP32-C6";
        }
        const chipRev = await this.getChipRevision(loader);
        desc += " (revision " + chipRev + ")";
        return desc;
    }
    async getChipFeatures(loader) {
        return ["Wi-Fi 6", "BT 5", "IEEE802.15.4"];
    }
    async getCrystalFreq(loader) {
        return 40;
    }
    _d2h(d) {
        const h = (+d).toString(16);
        return h.length === 1 ? "0" + h : h;
    }
    async readMac(loader) {
        let mac0 = await loader.readReg(this.MAC_EFUSE_REG);
        mac0 = mac0 >>> 0;
        let mac1 = await loader.readReg(this.MAC_EFUSE_REG + 4);
        mac1 = (mac1 >>> 0) & 0x0000ffff;
        const mac = new Uint8Array(6);
        mac[0] = (mac1 >> 8) & 0xff;
        mac[1] = mac1 & 0xff;
        mac[2] = (mac0 >> 24) & 0xff;
        mac[3] = (mac0 >> 16) & 0xff;
        mac[4] = (mac0 >> 8) & 0xff;
        mac[5] = mac0 & 0xff;
        return (this._d2h(mac[0]) +
            ":" +
            this._d2h(mac[1]) +
            ":" +
            this._d2h(mac[2]) +
            ":" +
            this._d2h(mac[3]) +
            ":" +
            this._d2h(mac[4]) +
            ":" +
            this._d2h(mac[5]));
    }
    getEraseSize(offset, size) {
        return size;
    }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2VzcHRvb2wtanNfbGliX3RhcmdldHNfZXNwMzJjNV9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDaEMseUJBQXlCLGdEQUFVO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixNQUFNLGFBQWEsU0FBUyxHQUFHLFNBQVM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1SCtCO0FBQ3hCLHlCQUF5Qix3Q0FBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9UYWN0aWxpdHkgV2ViIEluc3RhbGxlci8uL25vZGVfbW9kdWxlcy9lc3B0b29sLWpzL2xpYi90YXJnZXRzL2VzcDMyYzUuanMiLCJ3ZWJwYWNrOi8vVGFjdGlsaXR5IFdlYiBJbnN0YWxsZXIvLi9ub2RlX21vZHVsZXMvZXNwdG9vbC1qcy9saWIvdGFyZ2V0cy9lc3AzMmM2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVTUDMyQzZST00gfSBmcm9tIFwiLi9lc3AzMmM2XCI7XG5leHBvcnQgY2xhc3MgRVNQMzJDNVJPTSBleHRlbmRzIEVTUDMyQzZST00ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLkNISVBfTkFNRSA9IFwiRVNQMzItQzVcIjtcbiAgICAgICAgdGhpcy5JTUFHRV9DSElQX0lEID0gMjM7XG4gICAgICAgIHRoaXMuRUZVU0VfQkFTRSA9IDB4NjAwYjQ4MDA7XG4gICAgICAgIHRoaXMuRUZVU0VfQkxPQ0sxX0FERFIgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDA0NDtcbiAgICAgICAgdGhpcy5NQUNfRUZVU0VfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgwNDQ7XG4gICAgICAgIHRoaXMuVUFSVF9DTEtESVZfUkVHID0gMHg2MDAwMDAxNDtcbiAgICAgICAgdGhpcy5FRlVTRV9SRF9SRUdfQkFTRSA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDMwOyAvLyBCTE9DSzAgcmVhZCBiYXNlIGFkZHJlc3NcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTBfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgzNDtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTBfU0hJRlQgPSAyNDtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTFfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgzNDtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTFfU0hJRlQgPSAyODtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTJfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgzODtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTJfU0hJRlQgPSAwO1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZM19SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDM4O1xuICAgICAgICB0aGlzLkVGVVNFX1BVUlBPU0VfS0VZM19TSElGVCA9IDQ7XG4gICAgICAgIHRoaXMuRUZVU0VfUFVSUE9TRV9LRVk0X1JFRyA9IHRoaXMuRUZVU0VfQkFTRSArIDB4Mzg7XG4gICAgICAgIHRoaXMuRUZVU0VfUFVSUE9TRV9LRVk0X1NISUZUID0gODtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTVfUkVHID0gdGhpcy5FRlVTRV9CQVNFICsgMHgzODtcbiAgICAgICAgdGhpcy5FRlVTRV9QVVJQT1NFX0tFWTVfU0hJRlQgPSAxMjtcbiAgICAgICAgdGhpcy5FRlVTRV9ESVNfRE9XTkxPQURfTUFOVUFMX0VOQ1JZUFRfUkVHID0gdGhpcy5FRlVTRV9SRF9SRUdfQkFTRTtcbiAgICAgICAgdGhpcy5FRlVTRV9ESVNfRE9XTkxPQURfTUFOVUFMX0VOQ1JZUFQgPSAxIDw8IDIwO1xuICAgICAgICB0aGlzLkVGVVNFX1NQSV9CT09UX0NSWVBUX0NOVF9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDAzNDtcbiAgICAgICAgdGhpcy5FRlVTRV9TUElfQk9PVF9DUllQVF9DTlRfTUFTSyA9IDB4NyA8PCAxODtcbiAgICAgICAgdGhpcy5FRlVTRV9TRUNVUkVfQk9PVF9FTl9SRUcgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDAzODtcbiAgICAgICAgdGhpcy5FRlVTRV9TRUNVUkVfQk9PVF9FTl9NQVNLID0gMSA8PCAyMDtcbiAgICAgICAgdGhpcy5JUk9NX01BUF9TVEFSVCA9IDB4NDIwMDAwMDA7XG4gICAgICAgIHRoaXMuSVJPTV9NQVBfRU5EID0gMHg0MjgwMDAwMDtcbiAgICAgICAgdGhpcy5EUk9NX01BUF9TVEFSVCA9IDB4NDI4MDAwMDA7XG4gICAgICAgIHRoaXMuRFJPTV9NQVBfRU5EID0gMHg0MzAwMDAwMDtcbiAgICAgICAgdGhpcy5QQ1JfU1lTQ0xLX0NPTkZfUkVHID0gMHg2MDA5NjExMDtcbiAgICAgICAgdGhpcy5QQ1JfU1lTQ0xLX1hUQUxfRlJFUV9WID0gMHg3ZiA8PCAyNDtcbiAgICAgICAgdGhpcy5QQ1JfU1lTQ0xLX1hUQUxfRlJFUV9TID0gMjQ7XG4gICAgICAgIHRoaXMuWFRBTF9DTEtfRElWSURFUiA9IDE7XG4gICAgICAgIHRoaXMuVUFSVERFVl9CVUZfTk8gPSAweDQwODVmNTFjOyAvLyBWYXJpYWJsZSBpbiBST00gLmJzcyB3aGljaCBpbmRpY2F0ZXMgdGhlIHBvcnQgaW4gdXNlXG4gICAgICAgIC8vIE1hZ2ljIHZhbHVlIGZvciBFU1AzMkM1XG4gICAgICAgIHRoaXMuQ0hJUF9ERVRFQ1RfTUFHSUNfVkFMVUUgPSBbMHgxMTAxNDA2Zl07XG4gICAgICAgIHRoaXMuRkxBU0hfRlJFUVVFTkNZID0ge1xuICAgICAgICAgICAgXCI4MG1cIjogMHhmLFxuICAgICAgICAgICAgXCI0MG1cIjogMHgwLFxuICAgICAgICAgICAgXCIyMG1cIjogMHgyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLk1FTU9SWV9NQVAgPSBbXG4gICAgICAgICAgICBbMHgwMDAwMDAwMCwgMHgwMDAxMDAwMCwgXCJQQURESU5HXCJdLFxuICAgICAgICAgICAgWzB4NDI4MDAwMDAsIDB4NDMwMDAwMDAsIFwiRFJPTVwiXSxcbiAgICAgICAgICAgIFsweDQwODAwMDAwLCAweDQwODYwMDAwLCBcIkRSQU1cIl0sXG4gICAgICAgICAgICBbMHg0MDgwMDAwMCwgMHg0MDg2MDAwMCwgXCJCWVRFX0FDQ0VTU0lCTEVcIl0sXG4gICAgICAgICAgICBbMHg0MDAzYTAwMCwgMHg0MDA0MDAwMCwgXCJEUk9NX01BU0tcIl0sXG4gICAgICAgICAgICBbMHg0MDAwMDAwMCwgMHg0MDAzYTAwMCwgXCJJUk9NX01BU0tcIl0sXG4gICAgICAgICAgICBbMHg0MjAwMDAwMCwgMHg0MjgwMDAwMCwgXCJJUk9NXCJdLFxuICAgICAgICAgICAgWzB4NDA4MDAwMDAsIDB4NDA4NjAwMDAsIFwiSVJBTVwiXSxcbiAgICAgICAgICAgIFsweDUwMDAwMDAwLCAweDUwMDA0MDAwLCBcIlJUQ19JUkFNXCJdLFxuICAgICAgICAgICAgWzB4NTAwMDAwMDAsIDB4NTAwMDQwMDAsIFwiUlRDX0RSQU1cIl0sXG4gICAgICAgICAgICBbMHg2MDBmZTAwMCwgMHg2MDEwMDAwMCwgXCJNRU1fSU5URVJOQUwyXCJdLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLlVGMl9GQU1JTFlfSUQgPSAweGY3MWMwMzQzO1xuICAgICAgICB0aGlzLkVGVVNFX01BWF9LRVkgPSA1O1xuICAgICAgICB0aGlzLktFWV9QVVJQT1NFUyA9IHtcbiAgICAgICAgICAgIDA6IFwiVVNFUi9FTVBUWVwiLFxuICAgICAgICAgICAgMTogXCJFQ0RTQV9LRVlcIixcbiAgICAgICAgICAgIDI6IFwiWFRTX0FFU18yNTZfS0VZXzFcIixcbiAgICAgICAgICAgIDM6IFwiWFRTX0FFU18yNTZfS0VZXzJcIixcbiAgICAgICAgICAgIDQ6IFwiWFRTX0FFU18xMjhfS0VZXCIsXG4gICAgICAgICAgICA1OiBcIkhNQUNfRE9XTl9BTExcIixcbiAgICAgICAgICAgIDY6IFwiSE1BQ19ET1dOX0pUQUdcIixcbiAgICAgICAgICAgIDc6IFwiSE1BQ19ET1dOX0RJR0lUQUxfU0lHTkFUVVJFXCIsXG4gICAgICAgICAgICA4OiBcIkhNQUNfVVBcIixcbiAgICAgICAgICAgIDk6IFwiU0VDVVJFX0JPT1RfRElHRVNUMFwiLFxuICAgICAgICAgICAgMTA6IFwiU0VDVVJFX0JPT1RfRElHRVNUMVwiLFxuICAgICAgICAgICAgMTE6IFwiU0VDVVJFX0JPT1RfRElHRVNUMlwiLFxuICAgICAgICAgICAgMTI6IFwiS01fSU5JVF9LRVlcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0UGtnVmVyc2lvbihsb2FkZXIpIHtcbiAgICAgICAgY29uc3QgbnVtV29yZCA9IDI7XG4gICAgICAgIHJldHVybiAoKGF3YWl0IGxvYWRlci5yZWFkUmVnKHRoaXMuRUZVU0VfQkxPQ0sxX0FERFIgKyA0ICogbnVtV29yZCkpID4+IDI2KSAmIDB4MDc7XG4gICAgfVxuICAgIGFzeW5jIGdldE1pbm9yQ2hpcFZlcnNpb24obG9hZGVyKSB7XG4gICAgICAgIGNvbnN0IG51bVdvcmQgPSAyO1xuICAgICAgICByZXR1cm4gKChhd2FpdCBsb2FkZXIucmVhZFJlZyh0aGlzLkVGVVNFX0JMT0NLMV9BRERSICsgNCAqIG51bVdvcmQpKSA+PiAwKSAmIDB4MGY7XG4gICAgfVxuICAgIGFzeW5jIGdldE1ham9yQ2hpcFZlcnNpb24obG9hZGVyKSB7XG4gICAgICAgIGNvbnN0IG51bVdvcmQgPSAyO1xuICAgICAgICByZXR1cm4gKChhd2FpdCBsb2FkZXIucmVhZFJlZyh0aGlzLkVGVVNFX0JMT0NLMV9BRERSICsgNCAqIG51bVdvcmQpKSA+PiA0KSAmIDB4MDM7XG4gICAgfVxuICAgIGFzeW5jIGdldENoaXBEZXNjcmlwdGlvbihsb2FkZXIpIHtcbiAgICAgICAgY29uc3QgcGtnVmVyID0gYXdhaXQgdGhpcy5nZXRQa2dWZXJzaW9uKGxvYWRlcik7XG4gICAgICAgIGxldCBkZXNjO1xuICAgICAgICBpZiAocGtnVmVyID09PSAwKSB7XG4gICAgICAgICAgICBkZXNjID0gXCJFU1AzMi1DNVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzYyA9IFwidW5rbm93biBFU1AzMi1DNVwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ham9yUmV2ID0gYXdhaXQgdGhpcy5nZXRNYWpvckNoaXBWZXJzaW9uKGxvYWRlcik7XG4gICAgICAgIGNvbnN0IG1pbm9yUmV2ID0gYXdhaXQgdGhpcy5nZXRNaW5vckNoaXBWZXJzaW9uKGxvYWRlcik7XG4gICAgICAgIHJldHVybiBgJHtkZXNjfSAocmV2aXNpb24gdiR7bWFqb3JSZXZ9LiR7bWlub3JSZXZ9KWA7XG4gICAgfVxuICAgIGFzeW5jIGdldENyeXN0YWxGcmVxKGxvYWRlcikge1xuICAgICAgICAvLyBUaGUgY3J5c3RhbCBkZXRlY3Rpb24gYWxnb3JpdGhtIG9mIEVTUDMyL0VTUDgyNjZcbiAgICAgICAgLy8gd29ya3MgZm9yIEVTUDMyLUM1IGFzIHdlbGwuXG4gICAgICAgIGNvbnN0IHVhcnREaXYgPSAoYXdhaXQgbG9hZGVyLnJlYWRSZWcodGhpcy5VQVJUX0NMS0RJVl9SRUcpKSAmIHRoaXMuVUFSVF9DTEtESVZfTUFTSztcbiAgICAgICAgY29uc3QgZXRzWHRhbCA9IChsb2FkZXIudHJhbnNwb3J0LmJhdWRyYXRlICogdWFydERpdikgLyAxMDAwMDAwIC8gdGhpcy5YVEFMX0NMS19ESVZJREVSO1xuICAgICAgICBsZXQgbm9ybVh0YWw7XG4gICAgICAgIGlmIChldHNYdGFsID4gNDUpIHtcbiAgICAgICAgICAgIG5vcm1YdGFsID0gNDg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXRzWHRhbCA+IDMzKSB7XG4gICAgICAgICAgICBub3JtWHRhbCA9IDQwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybVh0YWwgPSAyNjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnMobm9ybVh0YWwgLSBldHNYdGFsKSA+IDEpIHtcbiAgICAgICAgICAgIGxvYWRlci5pbmZvKFwiV0FSTklORzogVW5zdXBwb3J0ZWQgY3J5c3RhbCBpbiB1c2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1YdGFsO1xuICAgIH1cbiAgICBhc3luYyBnZXRDcnlzdGFsRnJlcVJvbUV4cGVjdChsb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuICgoKGF3YWl0IGxvYWRlci5yZWFkUmVnKHRoaXMuUENSX1NZU0NMS19DT05GX1JFRykpICYgdGhpcy5QQ1JfU1lTQ0xLX1hUQUxfRlJFUV9WKSA+PiB0aGlzLlBDUl9TWVNDTEtfWFRBTF9GUkVRX1MpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJPTSB9IGZyb20gXCIuL3JvbS5qc1wiO1xuZXhwb3J0IGNsYXNzIEVTUDMyQzZST00gZXh0ZW5kcyBST00ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLkNISVBfTkFNRSA9IFwiRVNQMzItQzZcIjtcbiAgICAgICAgdGhpcy5JTUFHRV9DSElQX0lEID0gMTM7XG4gICAgICAgIHRoaXMuRUZVU0VfQkFTRSA9IDB4NjAwYjA4MDA7XG4gICAgICAgIHRoaXMuTUFDX0VGVVNFX1JFRyA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDQ0O1xuICAgICAgICB0aGlzLlVBUlRfQ0xLRElWX1JFRyA9IDB4M2ZmNDAwMTQ7XG4gICAgICAgIHRoaXMuVUFSVF9DTEtESVZfTUFTSyA9IDB4ZmZmZmY7XG4gICAgICAgIHRoaXMuVUFSVF9EQVRFX1JFR19BRERSID0gMHg2MDAwMDA3YztcbiAgICAgICAgdGhpcy5GTEFTSF9XUklURV9TSVpFID0gMHg0MDA7XG4gICAgICAgIHRoaXMuQk9PVExPQURFUl9GTEFTSF9PRkZTRVQgPSAwO1xuICAgICAgICB0aGlzLkZMQVNIX1NJWkVTID0ge1xuICAgICAgICAgICAgXCIxTUJcIjogMHgwMCxcbiAgICAgICAgICAgIFwiMk1CXCI6IDB4MTAsXG4gICAgICAgICAgICBcIjRNQlwiOiAweDIwLFxuICAgICAgICAgICAgXCI4TUJcIjogMHgzMCxcbiAgICAgICAgICAgIFwiMTZNQlwiOiAweDQwLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLlNQSV9SRUdfQkFTRSA9IDB4NjAwMDIwMDA7XG4gICAgICAgIHRoaXMuU1BJX1VTUl9PRkZTID0gMHgxODtcbiAgICAgICAgdGhpcy5TUElfVVNSMV9PRkZTID0gMHgxYztcbiAgICAgICAgdGhpcy5TUElfVVNSMl9PRkZTID0gMHgyMDtcbiAgICAgICAgdGhpcy5TUElfTU9TSV9ETEVOX09GRlMgPSAweDI0O1xuICAgICAgICB0aGlzLlNQSV9NSVNPX0RMRU5fT0ZGUyA9IDB4Mjg7XG4gICAgICAgIHRoaXMuU1BJX1cwX09GRlMgPSAweDU4O1xuICAgIH1cbiAgICBhc3luYyBnZXRQa2dWZXJzaW9uKGxvYWRlcikge1xuICAgICAgICBjb25zdCBudW1Xb3JkID0gMztcbiAgICAgICAgY29uc3QgYmxvY2sxQWRkciA9IHRoaXMuRUZVU0VfQkFTRSArIDB4MDQ0O1xuICAgICAgICBjb25zdCBhZGRyID0gYmxvY2sxQWRkciArIDQgKiBudW1Xb3JkO1xuICAgICAgICBjb25zdCB3b3JkMyA9IGF3YWl0IGxvYWRlci5yZWFkUmVnKGFkZHIpO1xuICAgICAgICBjb25zdCBwa2dWZXJzaW9uID0gKHdvcmQzID4+IDIxKSAmIDB4MDc7XG4gICAgICAgIHJldHVybiBwa2dWZXJzaW9uO1xuICAgIH1cbiAgICBhc3luYyBnZXRDaGlwUmV2aXNpb24obG9hZGVyKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrMUFkZHIgPSB0aGlzLkVGVVNFX0JBU0UgKyAweDA0NDtcbiAgICAgICAgY29uc3QgbnVtV29yZCA9IDM7XG4gICAgICAgIGNvbnN0IHBvcyA9IDE4O1xuICAgICAgICBjb25zdCBhZGRyID0gYmxvY2sxQWRkciArIDQgKiBudW1Xb3JkO1xuICAgICAgICBjb25zdCByZXQgPSAoKGF3YWl0IGxvYWRlci5yZWFkUmVnKGFkZHIpKSAmICgweDcgPDwgcG9zKSkgPj4gcG9zO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBhc3luYyBnZXRDaGlwRGVzY3JpcHRpb24obG9hZGVyKSB7XG4gICAgICAgIGxldCBkZXNjO1xuICAgICAgICBjb25zdCBwa2dWZXIgPSBhd2FpdCB0aGlzLmdldFBrZ1ZlcnNpb24obG9hZGVyKTtcbiAgICAgICAgaWYgKHBrZ1ZlciA9PT0gMCkge1xuICAgICAgICAgICAgZGVzYyA9IFwiRVNQMzItQzZcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc2MgPSBcInVua25vd24gRVNQMzItQzZcIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlwUmV2ID0gYXdhaXQgdGhpcy5nZXRDaGlwUmV2aXNpb24obG9hZGVyKTtcbiAgICAgICAgZGVzYyArPSBcIiAocmV2aXNpb24gXCIgKyBjaGlwUmV2ICsgXCIpXCI7XG4gICAgICAgIHJldHVybiBkZXNjO1xuICAgIH1cbiAgICBhc3luYyBnZXRDaGlwRmVhdHVyZXMobG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBbXCJXaS1GaSA2XCIsIFwiQlQgNVwiLCBcIklFRUU4MDIuMTUuNFwiXTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q3J5c3RhbEZyZXEobG9hZGVyKSB7XG4gICAgICAgIHJldHVybiA0MDtcbiAgICB9XG4gICAgX2QyaChkKSB7XG4gICAgICAgIGNvbnN0IGggPSAoK2QpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgcmV0dXJuIGgubGVuZ3RoID09PSAxID8gXCIwXCIgKyBoIDogaDtcbiAgICB9XG4gICAgYXN5bmMgcmVhZE1hYyhsb2FkZXIpIHtcbiAgICAgICAgbGV0IG1hYzAgPSBhd2FpdCBsb2FkZXIucmVhZFJlZyh0aGlzLk1BQ19FRlVTRV9SRUcpO1xuICAgICAgICBtYWMwID0gbWFjMCA+Pj4gMDtcbiAgICAgICAgbGV0IG1hYzEgPSBhd2FpdCBsb2FkZXIucmVhZFJlZyh0aGlzLk1BQ19FRlVTRV9SRUcgKyA0KTtcbiAgICAgICAgbWFjMSA9IChtYWMxID4+PiAwKSAmIDB4MDAwMGZmZmY7XG4gICAgICAgIGNvbnN0IG1hYyA9IG5ldyBVaW50OEFycmF5KDYpO1xuICAgICAgICBtYWNbMF0gPSAobWFjMSA+PiA4KSAmIDB4ZmY7XG4gICAgICAgIG1hY1sxXSA9IG1hYzEgJiAweGZmO1xuICAgICAgICBtYWNbMl0gPSAobWFjMCA+PiAyNCkgJiAweGZmO1xuICAgICAgICBtYWNbM10gPSAobWFjMCA+PiAxNikgJiAweGZmO1xuICAgICAgICBtYWNbNF0gPSAobWFjMCA+PiA4KSAmIDB4ZmY7XG4gICAgICAgIG1hY1s1XSA9IG1hYzAgJiAweGZmO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2QyaChtYWNbMF0pICtcbiAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgIHRoaXMuX2QyaChtYWNbMV0pICtcbiAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgIHRoaXMuX2QyaChtYWNbMl0pICtcbiAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgIHRoaXMuX2QyaChtYWNbM10pICtcbiAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgIHRoaXMuX2QyaChtYWNbNF0pICtcbiAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgIHRoaXMuX2QyaChtYWNbNV0pKTtcbiAgICB9XG4gICAgZ2V0RXJhc2VTaXplKG9mZnNldCwgc2l6ZSkge1xuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=